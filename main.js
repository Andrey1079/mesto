(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._galleryItemTemplate=document.querySelector(r).content.cloneNode(!0),this._galeryImage=this._galleryItemTemplate.querySelector(".gallery__image"),this._galeryCaption=this._galleryItemTemplate.querySelector(".gallery__city"),this._gallerylikeButton=this._galleryItemTemplate.querySelector(".gallery__like-button"),this._galleryTrashButton=this._galleryItemTemplate.querySelector(".gallery__bin-button"),this._galleryItem=this._galleryItemTemplate.querySelector(".gallery__item"),this._caption=e.name,this._url=e.link,this.openPopupFunc=n}var r,n;return r=t,(n=[{key:"setCard",value:function(){return this._setEventLIsteners(),this._galeryImage.src=this._url,this._galeryImage.alt=this._caption,this._galeryCaption.textContent=this._caption,this._galleryItemTemplate}},{key:"_setEventLIsteners",value:function(){var t=this;this._gallerylikeButton.addEventListener("click",(function(e){return t._changeLikeButton(t._gallerylikeButton)})),this._galleryTrashButton.addEventListener("click",(function(e){t._deleteGalleryItem(t._galleryItemTemplate)})),this._galeryImage.addEventListener("click",(function(e){t.openPopupFunc(t._galeryImage.src,t._galeryImage.alt)}))}},{key:"_changeLikeButton",value:function(){this._gallerylikeButton.classList.toggle("gallery__like-button_active")}},{key:"_deleteGalleryItem",value:function(){this._galleryItem.remove(),this._galleryItem=null}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=r,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._errorClass=e.errorClass,this._inputErrorClass=e.inputErrorClass,this._inputs=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._errorMessages=Array.from(this._formElement.querySelectorAll(this._inputErrorClass))}var e,r;return e=t,(r=[{key:"enableValidation",value:function(){this._setEventListener()}},{key:"_setEventListener",value:function(){var t=this;this._toggleButtonState(),this._inputs.forEach((function(e){t._checkInputValidity(e),addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"_checkInputValidity",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.validity.valid?this._hideInputError(e):this._showInputError(e,t.validationMessage)}},{key:"_showInputError",value:function(t,e){t.textContent=e,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){t.classList.remove(this._errorClass),t.textContent=""}},{key:"_disableSubmitButton",value:function(t,e){t.classList.add(e),t.setAttribute("disabled","disabled")}},{key:"_enableSubmitButton",value:function(t,e){t.classList.remove(e),t.removeAttribute("disabled","disabled")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputs)?this._disableSubmitButton(this._submitButton,this._inactiveButtonClass):this._enableSubmitButton(this._submitButton,this._inactiveButtonClass)}},{key:"_hasInvalidInput",value:function(){return this._inputs.some((function(t){return!t.validity.valid}))}},{key:"resetInputsErrors",value:function(){var t=this;this._toggleButtonState(),this._errorMessages.forEach((function(e){t._hideInputError(e)}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}var s=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItemsFromArray",value:function(){var t=this;this._items.forEach((function(e){t.addItem(t._renderer(e))}))}}])&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function p(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}var y=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"_handleEscClose",(function(t){"Escape"===t.key&&r.close()})),p(this,"_closePopupByClickOverlay",(function(t){t.target===t.currentTarget&&r.close()})),this._popup=document.querySelector(e),this._popupCloseButton=this._popup.querySelector(".popup__close-button ")}var e,r;return e=t,(r=[{key:"open",value:function(){this._popup.classList.add("popup_visible"),this._popup.addEventListener("mousedown",this._closePopupByClickOverlay),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_visible"),this._popup.removeEventListener("mousedown",this._closePopupByClickOverlay),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._popupCloseButton.addEventListener("click",this.close.bind(this))}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},v.apply(this,arguments)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(o){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._image=e._popup.querySelector(".popup__img"),e._caption=e._popup.querySelector(".popup__place-name-of-big-photo"),e}return e=u,(r=[{key:"open",value:function(t){this._image.src=t.src,this._image.alt=t.alt,this._caption.textContent=t.alt,v(_(u.prototype),"open",this).call(this)}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(y);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},w.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(n);if(o){var r=E(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r,n=t.submitFunc;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._submitFunc=n,r._form=r._popup.querySelector(".popup__form"),r._inputs=r._form.querySelectorAll(".popup__form-item"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputs=Array.from(this._inputs),this._inputs.forEach((function(e){return t._formValues[e.name]=e.value})),this._formValues}},{key:"setInputValues",value:function(t){this._inputs.forEach((function(e){e.value=t[e.name]}))}},{key:"setEventListeners",value:function(){var t=this;w(E(u.prototype),"setEventListeners",this).call(this),this._SubmitCallback=function(e){e.preventDefault(),t._submitFunc(t._getInputValues.bind(t)()),t.close()},this._form.addEventListener("submit",this._SubmitCallback)}},{key:"close",value:function(){this._form.reset(),w(E(u.prototype),"close",this).call(this)}}])&&S(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(y);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===P(o)?o:String(o)),n)}var o}var I=function(){function t(e){var r=e.userData;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userNameField=document.querySelector(r.userNameSelector),this._userProfessionField=document.querySelector(r.userProfessionSelector)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return this._userData={},this._userData.name=this._userNameField.textContent,this._userData.profession=this._userProfessionField.textContent,this._userData}},{key:"setUserInfo",value:function(t){this._userNameField.textContent=t.name,this._userProfessionField.textContent=t.profession}}])&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),C={formSelector:".popup__form",inputSelector:".popup__form-item",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",errorClass:"popup__form-item-error_visible",inputErrorClass:".popup__form-item-error"},B=document.querySelector(".popup-edit-profile"),L=document.querySelector(".profile__edit-profile-button"),T=B.querySelector(".popup__form_type_edit-profile"),q=document.querySelector(".popup-add-photo"),x=document.querySelector(".profile__add-photo-button"),R=q.querySelector(".popup__form_type_add-photo");function F(t,e){var r={};r.src=t,r.alt=e,D.open(r)}function V(t){return new r(t,".gallery-item-template",F).setCard()}var D=new d(".popup-big-photo");D.setEventListeners();var A=new i(C,R),N=new i(C,T);A.enableValidation(),N.enableValidation();var U=new s({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:V},".gallery__list");U.renderItemsFromArray();var M=new j({submitFunc:function(t){return U.addItem(V(t))}},".popup-add-photo");M.setEventListeners();var G=new j({submitFunc:function(t){z.setUserInfo(t)}},".popup-edit-profile");G.setEventListeners();var z=new I({userData:{userNameSelector:".profile__user-name",userProfessionSelector:".profile__user-profession"}});x.addEventListener("click",(function(t){A.resetInputsErrors(),M.open()})),L.addEventListener("click",(function(){N.resetInputsErrors(),G.setInputValues(z.getUserInfo()),G.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGNhcmQsIGdhbGxlcnlJdGVtVGVtcGxhdGUsIG9wZW5Qb3B1cEZ1bmMpIHtcclxuICAgIHRoaXMuX2dhbGxlcnlJdGVtVGVtcGxhdGUgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihnYWxsZXJ5SXRlbVRlbXBsYXRlKVxyXG4gICAgICAuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9nYWxlcnlJbWFnZSA9XHJcbiAgICAgIHRoaXMuX2dhbGxlcnlJdGVtVGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2dhbGVyeUNhcHRpb24gPVxyXG4gICAgICB0aGlzLl9nYWxsZXJ5SXRlbVRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2l0eVwiKTtcclxuICAgIHRoaXMuX2dhbGxlcnlsaWtlQnV0dG9uID0gdGhpcy5fZ2FsbGVyeUl0ZW1UZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZ2FsbGVyeVRyYXNoQnV0dG9uID0gdGhpcy5fZ2FsbGVyeUl0ZW1UZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5nYWxsZXJ5X19iaW4tYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9nYWxsZXJ5SXRlbSA9XHJcbiAgICAgIHRoaXMuX2dhbGxlcnlJdGVtVGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pdGVtXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IGNhcmQubmFtZTtcclxuICAgIHRoaXMuX3VybCA9IGNhcmQubGluaztcclxuICAgIHRoaXMub3BlblBvcHVwRnVuYyA9IG9wZW5Qb3B1cEZ1bmM7XHJcbiAgfVxyXG5cclxuICBzZXRDYXJkKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMSXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2dhbGVyeUltYWdlLnNyYyA9IHRoaXMuX3VybDtcclxuICAgIHRoaXMuX2dhbGVyeUltYWdlLmFsdCA9IHRoaXMuX2NhcHRpb247XHJcbiAgICB0aGlzLl9nYWxlcnlDYXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fY2FwdGlvbjtcclxuICAgIHJldHVybiB0aGlzLl9nYWxsZXJ5SXRlbVRlbXBsYXRlO1xyXG4gIH1cclxuICBfc2V0RXZlbnRMSXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9nYWxsZXJ5bGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT5cclxuICAgICAgdGhpcy5fY2hhbmdlTGlrZUJ1dHRvbih0aGlzLl9nYWxsZXJ5bGlrZUJ1dHRvbilcclxuICAgICk7XHJcbiAgICB0aGlzLl9nYWxsZXJ5VHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5fZGVsZXRlR2FsbGVyeUl0ZW0odGhpcy5fZ2FsbGVyeUl0ZW1UZW1wbGF0ZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2dhbGVyeUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMub3BlblBvcHVwRnVuYyh0aGlzLl9nYWxlcnlJbWFnZS5zcmMsIHRoaXMuX2dhbGVyeUltYWdlLmFsdCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGFuZ2VMaWtlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fZ2FsbGVyeWxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImdhbGxlcnlfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgX2RlbGV0ZUdhbGxlcnlJdGVtKCkge1xyXG4gICAgdGhpcy5fZ2FsbGVyeUl0ZW0ucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9nYWxsZXJ5SXRlbSA9IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldE9iamVjdCwgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBzZXRPYmplY3QuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldE9iamVjdC5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXRPYmplY3Quc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0T2JqZWN0LmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0T2JqZWN0LmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXRPYmplY3QuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlcyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRFcnJvckNsYXNzKVxyXG4gICAgKTtcclxuICB9XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIC8vIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4gZXZ0LnByZXZlbnREZWZhdWx0KCkpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIH1cclxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcclxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VFcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKG1lc3NhZ2VFcnJvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihtZXNzYWdlRXJyb3IsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH1cclxuICB9XHJcbiAgX3Nob3dJbnB1dEVycm9yKG1lc3NhZ2VFcnJvciwgbWVzc2FnZSkge1xyXG4gICAgbWVzc2FnZUVycm9yLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgIG1lc3NhZ2VFcnJvci5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuICBfaGlkZUlucHV0RXJyb3IobWVzc2FnZUVycm9yKSB7XHJcbiAgICBtZXNzYWdlRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIG1lc3NhZ2VFcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG4gIF9kaXNhYmxlU3VibWl0QnV0dG9uKHN1Ym1pdEJ1dHRvbiwgaW5hY3RpdmVCdXR0b25DbGFzcykge1xyXG4gICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICBzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcclxuICB9XHJcbiAgX2VuYWJsZVN1Ym1pdEJ1dHRvbihzdWJtaXRCdXR0b24sIGluYWN0aXZlQnV0dG9uQ2xhc3MpIHtcclxuICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcbiAgfVxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRzKSkge1xyXG4gICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKHRoaXMuX3N1Ym1pdEJ1dHRvbiwgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24odGhpcy5fc3VibWl0QnV0dG9uLCB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dHMuc29tZSgoaW5wdXQpID0+ICFpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG4gIHJlc2V0SW5wdXRzRXJyb3JzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZXMuZm9yRWFjaCgoc3BhbikgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihzcGFuKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcbiAgYWRkSXRlbShuZXdFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChuZXdFbGVtZW50KTtcclxuICB9XHJcbiAgcmVuZGVySXRlbXNGcm9tQXJyYXkoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkSXRlbSh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b24gXCIpO1xyXG4gIH1cclxuICAvL1xyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfdmlzaWJsZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fY2xvc2VQb3B1cEJ5Q2xpY2tPdmVybGF5KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgLy9cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF92aXNpYmxlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJtb3VzZWRvd25cIixcclxuICAgICAgdGhpcy5fY2xvc2VQb3B1cEJ5Q2xpY2tPdmVybGF5XHJcbiAgICApO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICAvL1xyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vXHJcbiAgX2Nsb3NlUG9wdXBCeUNsaWNrT3ZlcmxheSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvL1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19wbGFjZS1uYW1lLW9mLWJpZy1waG90b1wiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbihpbWFnZURhdGEpIHtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGltYWdlRGF0YS5zcmM7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBpbWFnZURhdGEuYWx0O1xyXG4gICAgdGhpcy5fY2FwdGlvbi50ZXh0Q29udGVudCA9IGltYWdlRGF0YS5hbHQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtcyBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHN1Ym1pdEZ1bmMgfSwgcG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7IC8vZGl2INC/0L7Qv9Cw0L/QsFxyXG4gICAgdGhpcy5fc3VibWl0RnVuYyA9IHN1Ym1pdEZ1bmM7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybS1pdGVtXCIpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2lucHV0cyk7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChcclxuICAgICAgKGlucHV0KSA9PiAodGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9TdWJtaXRDYWxsYmFjayA9IChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEZ1bmModGhpcy5fZ2V0SW5wdXRWYWx1ZXMuYmluZCh0aGlzKSgpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9TdWJtaXRDYWxsYmFjayk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXNlckRhdGEgfSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckRhdGEudXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdXNlckRhdGEudXNlclByb2Zlc3Npb25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAvLyDQstC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcblxyXG4gICAgdGhpcy5fdXNlckRhdGEgPSB7fTtcclxuICAgIHRoaXMuX3VzZXJEYXRhLm5hbWUgPSB0aGlzLl91c2VyTmFtZUZpZWxkLnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5fdXNlckRhdGEucHJvZmVzc2lvbiA9IHRoaXMuX3VzZXJQcm9mZXNzaW9uRmllbGQudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4gdGhpcy5fdXNlckRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh1c2VyRGF0YSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWVGaWVsZC50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgICB0aGlzLl91c2VyUHJvZmVzc2lvbkZpZWxkLnRleHRDb250ZW50ID0gdXNlckRhdGEucHJvZmVzc2lvbjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGdhbGxlcnlBcnJheSA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcItCQ0YDRhdGL0LdcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwi0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjFwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCLQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCLQkdCw0LnQutCw0LtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5leHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLWl0ZW1cIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZm9ybS1pdGVtLWVycm9yX3Zpc2libGVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiLnBvcHVwX19mb3JtLWl0ZW0tZXJyb3JcIixcclxufTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWVkaXQtcHJvZmlsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fZWRpdC1wcm9maWxlLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Zvcm1fdHlwZV9lZGl0LXByb2ZpbGVcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgdXNlckRhdGEgPSB7XHJcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1uYW1lXCIsXHJcbiAgdXNlclByb2Zlc3Npb25TZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1wcm9mZXNzaW9uXCIsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBnYWxsZXJ5SXRlbVRlbXBsYXRlID0gXCIuZ2FsbGVyeS1pdGVtLXRlbXBsYXRlXCI7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1hZGQtcGhvdG9cIik7XHJcbmV4cG9ydCBjb25zdCBhZGRQaG90b0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYWRkLXBob3RvLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkUGhvdG8gPSBwb3B1cEFkZFBob3RvLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Zvcm1fdHlwZV9hZGQtcGhvdG9cIlxyXG4pO1xyXG4vLyBleHBvcnQgeyBnYWxsZXJ5QXJyYXkgfTtcclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtcyBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHNldHRpbmdzLFxyXG4gIGdhbGxlcnlBcnJheSxcclxuICBwb3B1cFByb2ZpbGVCdXR0b24sXHJcbiAgZm9ybUVkaXRQcm9maWxlLFxyXG4gIHVzZXJEYXRhLFxyXG4gIGdhbGxlcnlJdGVtVGVtcGxhdGUsXHJcbiAgYWRkUGhvdG9CdXR0b24sXHJcbiAgZm9ybUFkZFBob3RvLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLS0tLdCe0JHQqtCv0JvQldCd0JjQlSDQn9CV0KDQldCc0JXQndCd0KvQpS0tLS0tXHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tLS0t0KTQo9Cd0JrQptCY0JgtLS0tLVxyXG4vLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDRgSDRg9Cy0LXQu9C40YfQtdC90L3QvtC5INGE0L7RgtC+0LPRgNCw0YTQuNC10LlcclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGxpbmssIG5hbWUpIHtcclxuICBjb25zdCBwb3B1cFdpdGhJbWFnZU9iamVjdCA9IHt9O1xyXG4gIHBvcHVwV2l0aEltYWdlT2JqZWN0LnNyYyA9IGxpbms7XHJcbiAgcG9wdXBXaXRoSW1hZ2VPYmplY3QuYWx0ID0gbmFtZTtcclxuICBwb3B1cFdpdGhJbWFnZS5vcGVuKHBvcHVwV2l0aEltYWdlT2JqZWN0KTtcclxufVxyXG4vL1xyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBuZXdHYWxsZXJ5Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIGdhbGxlcnlJdGVtVGVtcGxhdGUsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2sgLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgSDRhNC+0YLQvlxyXG4gICk7XHJcbiAgcmV0dXJuIG5ld0dhbGxlcnlDYXJkLnNldENhcmQoKTsgLy/QstC+0LfQstGA0LDRidCw0LXRgiDQs9C+0YLQvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDXHJcbn1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0tLS3QntCx0YrRj9Cy0LvQtdC90LjQtSDQutC70LDRgdGB0L7Qsi0tLS0tXHJcbi8vINC/0L7Qv9Cw0L8g0YEg0LHQvtC70YzRiNC+0Lkg0YTQvtGC0L7Qs9GA0LDRhNC40LXQuVxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cC1iaWctcGhvdG9cIik7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vXHJcbi8vINCy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxyXG5jb25zdCBmb3JtQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtQWRkUGhvdG8pO1xyXG5jb25zdCBmb3JtUHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtRWRpdFByb2ZpbGUpO1xyXG5mb3JtQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1Qcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy9cclxuLy8gINCz0LDQu9C10YDQtdGPINC40Lcg0LzQsNGB0YHQuNCy0LBcclxuY29uc3QgZ2FsbGVyeSA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBnYWxsZXJ5QXJyYXksXHJcbiAgICByZW5kZXJlcjogY3JlYXRlQ2FyZCxcclxuICB9LFxyXG4gIFwiLmdhbGxlcnlfX2xpc3RcIlxyXG4pO1xyXG5nYWxsZXJ5LnJlbmRlckl0ZW1zRnJvbUFycmF5KCk7XHJcbi8vXHJcbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0LPQsNC70LXRgNC10LhcclxuY29uc3QgcG9wdXBXaXRoRm9ybXNBZGRQaG90byA9IG5ldyBQb3B1cFdpdGhGb3JtcyhcclxuICB7XHJcbiAgICBzdWJtaXRGdW5jOiAobmV3Q2FyZCkgPT4gZ2FsbGVyeS5hZGRJdGVtKGNyZWF0ZUNhcmQobmV3Q2FyZCkpLFxyXG4gIH0sXHJcbiAgXCIucG9wdXAtYWRkLXBob3RvXCJcclxuKTtcclxucG9wdXBXaXRoRm9ybXNBZGRQaG90by5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vL1xyXG4vLyDQuNC30LzQtdC90LXQvdC40LUg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxyXG5jb25zdCBwb3B1cFdpdGhGb3Jtc1VzZXJQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm1zKFxyXG4gIHtcclxuICAgIHN1Ym1pdEZ1bmM6IChmb3JtVmFsdWVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGZvcm1WYWx1ZXMpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLnBvcHVwLWVkaXQtcHJvZmlsZVwiXHJcbik7XHJcbnBvcHVwV2l0aEZvcm1zVXNlclByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy9cclxuLy8g0YPQv9GA0LDQstC70LXQvdC40LUg0LTQsNC90L3Ri9C80Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IHVzZXJEYXRhOiB1c2VyRGF0YSB9KTtcclxuXHJcbi8vXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0tLS3QodCe0JHQq9Ci0JjQry0tLS0tXHJcblxyXG4vLyDQutC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0YTQvtGC0L5cclxuYWRkUGhvdG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAoZXZ0KSA9PiBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBmb3JtQ2FyZFZhbGlkYXRvci5yZXNldElucHV0c0Vycm9ycygpO1xyXG4gIHBvcHVwV2l0aEZvcm1zQWRkUGhvdG8ub3BlbigpO1xyXG59KTtcclxuLy9cclxuLy8g0LrQvdC+0L/QutCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxucG9wdXBQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0b3IucmVzZXRJbnB1dHNFcnJvcnMoKTtcclxuICBwb3B1cFdpdGhGb3Jtc1VzZXJQcm9maWxlLnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xyXG4gIHBvcHVwV2l0aEZvcm1zVXNlclByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkIiwiZ2FsbGVyeUl0ZW1UZW1wbGF0ZSIsIm9wZW5Qb3B1cEZ1bmMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2dhbGxlcnlJdGVtVGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2dhbGVyeUltYWdlIiwiX2dhbGVyeUNhcHRpb24iLCJfZ2FsbGVyeWxpa2VCdXR0b24iLCJfZ2FsbGVyeVRyYXNoQnV0dG9uIiwiX2dhbGxlcnlJdGVtIiwiX2NhcHRpb24iLCJuYW1lIiwiX3VybCIsImxpbmsiLCJrZXkiLCJ2YWx1ZSIsIl9zZXRFdmVudExJc3RlbmVycyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2NoYW5nZUxpa2VCdXR0b24iLCJfZGVsZXRlR2FsbGVyeUl0ZW0iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwic2V0T2JqZWN0IiwiZm9ybUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX2Vycm9yTWVzc2FnZXMiLCJfc2V0RXZlbnRMaXN0ZW5lciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJtZXNzYWdlRXJyb3IiLCJjb25jYXQiLCJpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIm1lc3NhZ2UiLCJhZGQiLCJzdWJtaXRCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwic29tZSIsIl90aGlzMiIsInNwYW4iLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJuZXdFbGVtZW50IiwicHJlcGVuZCIsIml0ZW0iLCJhZGRJdGVtIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX2RlZmluZVByb3BlcnR5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX3BvcHVwIiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJfY2xvc2VQb3B1cEJ5Q2xpY2tPdmVybGF5IiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfaW1hZ2UiLCJpbWFnZURhdGEiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybXMiLCJzdWJtaXRGdW5jIiwiX3N1Ym1pdEZ1bmMiLCJfZm9ybSIsIl9mb3JtVmFsdWVzIiwiZGF0YSIsIl90aGlzMyIsIl9TdWJtaXRDYWxsYmFjayIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsInVzZXJEYXRhIiwiX3VzZXJOYW1lRmllbGQiLCJ1c2VyTmFtZVNlbGVjdG9yIiwiX3VzZXJQcm9mZXNzaW9uRmllbGQiLCJ1c2VyUHJvZmVzc2lvblNlbGVjdG9yIiwiX3VzZXJEYXRhIiwicHJvZmVzc2lvbiIsInNldHRpbmdzIiwicG9wdXBFZGl0UHJvZmlsZSIsInBvcHVwUHJvZmlsZUJ1dHRvbiIsImZvcm1FZGl0UHJvZmlsZSIsInBvcHVwQWRkUGhvdG8iLCJhZGRQaG90b0J1dHRvbiIsImZvcm1BZGRQaG90byIsImhhbmRsZUNhcmRDbGljayIsInBvcHVwV2l0aEltYWdlT2JqZWN0IiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwiY3JlYXRlQ2FyZCIsInNldENhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImZvcm1DYXJkVmFsaWRhdG9yIiwiZm9ybVByb2ZpbGVWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZ2FsbGVyeSIsInJlbmRlckl0ZW1zRnJvbUFycmF5IiwicG9wdXBXaXRoRm9ybXNBZGRQaG90byIsIm5ld0NhcmQiLCJwb3B1cFdpdGhGb3Jtc1VzZXJQcm9maWxlIiwiZm9ybVZhbHVlcyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJyZXNldElucHV0c0Vycm9ycyIsInNldElucHV0VmFsdWVzIiwiZ2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9